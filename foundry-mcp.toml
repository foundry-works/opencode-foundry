[workspace]
specs_dir = "./specs"

[logging]
level = "INFO"
structured = true

[tools]
# Disable tools to reduce context window usage
# Available: health, plan, pr, error, journal, authoring, review,
#            spec, task, provider, environment, lifecycle, verification,
#            server, test, research
disabled_tools = ["error", "health"]

[workflow]
mode = "single"
auto_validate = true
journal_enabled = true

[implement]
# Default flags for /implement command (can be overridden via CLI flags)
auto = false      # --auto: skip prompts between tasks
delegate = false  # --delegate: use subagent(s) for implementation
parallel = false  # --parallel: run subagents concurrently (implies delegate)

[consultation]
# priority = []  # Appended by setup based on detected providers
default_timeout = 360
# Format: "[api]provider/model" or "[cli]transport[:backend/model|:model]"
priority = [
    "[cli]codex:gpt-5.2-codex",
    "[cli]gemini:pro",
    "[cli]cursor-agent:composer-1",
    "[cli]opencode:gpt-5.2-codex",
    "[cli]claude:opus",
]

[research]
# Research tool configuration (chat, consensus, thinkdeep, ideate, deep)
# default_provider = "[cli]provider:model"  # Appended by setup
# consensus_providers = []  # Appended by setup (same as consultation.priority)
max_retries = 2
retry_delay = 5.0
fallback_enabled = true
cache_ttl = 3600

[research.deep]
# Deep research workflow settings
max_iterations = 3
max_sub_queries = 5
max_sources_per_query = 5
follow_links = true
max_concurrent = 3
timeout_per_operation = 360

[consultation.workflows.fidelity_review]
min_models = 2
timeout_override = 600.0
default_review_type = "full"

[consultation.workflows.plan_review]
min_models = 2
timeout_override = 600.0
default_review_type = "full"

[consultation.workflows.markdown_plan_review]
min_models = 2
timeout_override = 600.0
default_review_type = "full"
